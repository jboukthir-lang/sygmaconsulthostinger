-- Complete Database Schema Repair Script
-- Run this in phpMyAdmin on Hostinger to add ALL missing columns
-- First, let's see what columns currently exist
SELECT COLUMN_NAME
FROM INFORMATION_SCHEMA.COLUMNS
WHERE TABLE_NAME = 'services'
ORDER BY ORDINAL_POSITION;
-- Now add ALL potentially missing columns (ignore errors for duplicates)
ALTER TABLE services
ADD COLUMN IF NOT EXISTS id VARCHAR(36);
ALTER TABLE services
ADD COLUMN IF NOT EXISTS title_en VARCHAR(255);
ALTER TABLE services
ADD COLUMN IF NOT EXISTS title_fr VARCHAR(255);
ALTER TABLE services
ADD COLUMN IF NOT EXISTS title_ar VARCHAR(255);
ALTER TABLE services
ADD COLUMN IF NOT EXISTS description_en TEXT;
ALTER TABLE services
ADD COLUMN IF NOT EXISTS description_fr TEXT;
ALTER TABLE services
ADD COLUMN IF NOT EXISTS description_ar TEXT;
ALTER TABLE services
ADD COLUMN IF NOT EXISTS subtitle_en TEXT;
ALTER TABLE services
ADD COLUMN IF NOT EXISTS subtitle_fr TEXT;
ALTER TABLE services
ADD COLUMN IF NOT EXISTS subtitle_ar TEXT;
ALTER TABLE services
ADD COLUMN IF NOT EXISTS features_en JSON;
ALTER TABLE services
ADD COLUMN IF NOT EXISTS features_fr JSON;
ALTER TABLE services
ADD COLUMN IF NOT EXISTS features_ar JSON;
ALTER TABLE services
ADD COLUMN IF NOT EXISTS icon VARCHAR(50);
ALTER TABLE services
ADD COLUMN IF NOT EXISTS href VARCHAR(255);
ALTER TABLE services
ADD COLUMN IF NOT EXISTS color VARCHAR(50);
ALTER TABLE services
ADD COLUMN IF NOT EXISTS is_active BOOLEAN DEFAULT TRUE;
ALTER TABLE services
ADD COLUMN IF NOT EXISTS display_order INT DEFAULT 0;
ALTER TABLE services
ADD COLUMN IF NOT EXISTS image_url TEXT;
ALTER TABLE services
ADD COLUMN IF NOT EXISTS price DECIMAL(10, 2);
ALTER TABLE services
ADD COLUMN IF NOT EXISTS duration_minutes INT;
ALTER TABLE services
ADD COLUMN IF NOT EXISTS is_bookable BOOLEAN DEFAULT FALSE;
ALTER TABLE services
ADD COLUMN IF NOT EXISTS show_price BOOLEAN DEFAULT TRUE;
ALTER TABLE services
ADD COLUMN IF NOT EXISTS created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP;
ALTER TABLE services
ADD COLUMN IF NOT EXISTS updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
-- Verify all columns are now present
SELECT COLUMN_NAME,
    DATA_TYPE
FROM INFORMATION_SCHEMA.COLUMNS
WHERE TABLE_NAME = 'services'
ORDER BY ORDINAL_POSITION;